<script>
  const stats = ["discipline", "creativity", "charisma", "wisdom", "intelligence"];
  const maxBars = 10;
  const upgradeCost = 10;

  function loadStats() {
    const container = document.getElementById("statsContainer");
    container.innerHTML = "";

    stats.forEach(stat => {
      const value = parseInt(localStorage.getItem(stat)) || 0;
      const bar = "ðŸŸ©".repeat(value) + "â¬œ".repeat(maxBars - value);

      const row = document.createElement("div");
      row.className = "stat-row";

      row.innerHTML = `
        <div><strong>${stat.charAt(0).toUpperCase() + stat.slice(1)}</strong>: 
        <span class="bar">${bar}</span></div>
        <button onclick="upgrade('${stat}')">+ (${upgradeCost} XP)</button>
      `;

      container.appendChild(row);
    });

    const xp = localStorage.getItem("xp") || 0;
    document.getElementById("xpDisplay").textContent = `Current XP: ${xp}`;
  }

  function upgrade(stat) {
    let currentXP = parseInt(localStorage.getItem("xp")) || 0;
    if (currentXP < upgradeCost) {
      alert("Not enough XP! Complete quests to earn more.");
      return;
    }

    let val = parseInt(localStorage.getItem(stat)) || 0;
    if (val < maxBars) {
      val += 1;
      localStorage.setItem(stat, val);
      localStorage.setItem("xp", currentXP - upgradeCost);
    }

    loadStats();
  }

  document.addEventListener("DOMContentLoaded", loadStats);
</script>
